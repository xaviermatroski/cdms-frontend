<!-- Page Header -->
<div class="page-header">
  <h1 class="page-title"><%= pageTitle %></h1>
  <div style="display: flex; gap: 10px;">
    <a href="/cases/create" class="btn btn-primary">
      <i class="fas fa-plus"></i> New Case
    </a>
    <a href="/records/create" class="btn btn-info">
      <i class="fas fa-upload"></i> Upload Record
    </a>
  </div>
</div>

<!-- Statistics Cards -->
<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 30px;">
  <!-- Total Cases -->
  <div class="stat-card">
    <div style="display: flex; justify-content: space-between; align-items: flex-start;">
      <div>
        <div class="stat-label">Total Cases</div>
        <div class="stat-value"><%= stats.totalCases %></div>
        <div class="stat-change positive">From organization</div>
      </div>
      <div class="stat-icon" style="color: var(--primary);">
        <i class="fas fa-folder-open"></i>
      </div>
    </div>
  </div>

  <!-- Recent Records -->
  <div class="stat-card" style="border-left-color: #4f46e5;">
    <div style="display: flex; justify-content: space-between; align-items: flex-start;">
      <div>
        <div class="stat-label">Total Records</div>
        <div class="stat-value"><%= stats.totalRecords %></div>
        <div class="stat-change positive">From organization</div>
      </div>
      <div class="stat-icon" style="color: #4f46e5;">
        <i class="fas fa-file-alt"></i>
      </div>
    </div>
  </div>

  <!-- User Role -->
  <div class="stat-card" style="border-left-color: #f59e0b;">
    <div style="display: flex; justify-content: space-between; align-items: flex-start;">
      <div>
        <div class="stat-label">Your Role</div>
        <div class="stat-value" style="font-size: 18px;"><%= user.role %></div>
        <div class="stat-change"><%= user.organization %></div>
      </div>
      <div class="stat-icon" style="color: #f59e0b;">
        <i class="fas fa-user-shield"></i>
      </div>
    </div>
  </div>
</div>

<!-- Recent Cases Table -->
<div class="card">
  <div class="card-header">
    <h2 class="card-title">Recent Cases</h2>
  </div>
  <% if (recentCases && recentCases.length > 0) { %>
    <div style="overflow-x: auto;">
      <table>
        <thead>
          <tr>
            <th>Case ID</th>
            <th>Title</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% recentCases.forEach(caseItem => { %>
            <tr>
              <td><strong><%= caseItem.id %></strong></td>
              <td><%= caseItem.title %></td>
              <td>
                <span class="badge <% if (caseItem.status === 'Open') { %>badge-success<% } else if (caseItem.status === 'Under Investigation') { %>badge-warning<% } else { %>badge-secondary<% } %>">
                  <%= caseItem.status %>
                </span>
              </td>
              <td><a href="/cases/<%= caseItem.id %>" style="color: var(--primary); text-decoration: none;">View</a></td>
            </tr>
          <% }); %>
        </tbody>
      </table>
    </div>
  <% } else { %>
    <div style="padding: 40px; text-align: center; color: #9ca3af;">
      <p>No cases found. <a href="/cases/create" style="color: var(--primary); text-decoration: none;">Create one</a></p>
    </div>
  <% } %>
</div>
